error_log               /var/log/nginx/error.log;

events {

}

http {
    server {
        listen               80;
        server_name          itaureli.42.fr;
        return               301 https://$server_name$request_uri;
    }

    server {
        listen               443 ssl;
        server_name          itaureli.42.fr;

        # TLS config
        ssl_protocols        TLSv1.2;
        ssl_prefer_server_ciphers off;

        # SSL Certificate files
        ssl_certificate      /etc/ssl/certs/itaureli.crt;
        ssl_certificate_key  /etc/ssl/private/itaureli.key;
        
        ## Your only path reference.
        root /var/www/wordpress;

        ## This should be in your http block and if it is, it's not needed here.
        index index.php index.html;

        location / {
                location ~ \.php$ {
                        fastcgi_split_path_info ^(.+\.php)(/.+)$;
                        fastcgi_pass wordpress:9000;
                        fastcgi_index index.php;
                        include fastcgi_params;
                        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
                        fastcgi_param SCRIPT_NAME $fastcgi_script_name;
                }
	}  
    }
}